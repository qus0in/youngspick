<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- 별점 구현을 위한 font-awesome 사용 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/main.css">
    <title>Young's Pick</title>
</head>

<body>
    <header class="container">
        <div class="d-flex justify-content-end">
            <!-- Button trigger modal -->
            <button type="button" class="my-2 mx-1 btn btn-outline-dark" data-toggle="modal"
                data-target="#addStoreModal">
                작성하기
            </button>
            <button type="button" class="my-2 mx-1 btn btn-outline-danger" data-toggle="modal"
                data-target="#removeStoreModal">
                삭제하기
            </button>
            <!-- <button type="button" class="my-2 mx-1 btn btn-outline-primary" data-toggle="modal"
                data-target="#expandStoreModal">
                상세보기
            </button> -->
        </div>
        <header class="jumbotron text-light bg-dark">
            <h1 class="display-4">
                Young's Pick
            </h1>
            <p class="lead">변영인의 맛집 리스트</p>
        </header>
    </header>
    <section>
        <!-- Modal -->
        <!-- 가게 추가 모달 -->
        <div class="modal fade" id="addStoreModal" tabindex="-1" role="dialog" aria-labelledby="addStoreModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addStoreModalLabel">가게 추가</h5>
                        <button type="button" class="close streched-link" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <div class="modal-body">
                        <div class="form-group m-3">
                            <form id="searchStoreForm" onsubmit="StoreInfo.searchStore(); return false;">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text text-dark" for="inputStoreKwd">
                                            가게 검색
                                        </label>
                                    </div>
                                    <input id="inputStoreKwd" class="form-control" type="text" required>
                                    <div class="input-group-append">
                                        <button type="submit" class="btn btn-outline-primary">검색</button>
                                    </div>
                                </div>
                            </form>
                            <select id="inputStoreSelect" class="mt-2 form-control" size="5">
                                <option>가게명으로 검색</option>
                            </select>
                            <div class="mt-2 d-flex justify-content-end">
                                <button class="btn btn-secondary btn-sm" id="firstPage" type="button"
                                    disabled>&lt;&lt;</button>
                                <button class="ml-1 btn btn-secondary btn-sm" id="prevPage" type="button"
                                    disabled>&lt;</button>
                                <button class="ml-1 btn btn-secondary btn-sm" id="nextPage" type="button"
                                    disabled>&gt;</button>
                                <button class="ml-1 btn btn-secondary btn-sm" id="lastPage" type="button"
                                    disabled>&gt;&gt;</button>
                                <button class="ml-1 btn btn-secondary btn-sm" id="decision" type="button"
                                    disabled>선택</button>
                            </div>
                        </div>
                        <hr>
                        <!-- 1. 페이지 넘어가지 않게 하기 위해 onsubmit에 return false 추가 + form을 리셋(this.reset) + drawStar(0) / 2. reset 시 별점 초기화를 위해 onreset에 drawStar(0) 추가 -->
                        <form id="addStoreForm"
                            onsubmit="if(common.getEl('inputStoreName', 'v') != '') {storeData.addStore();storeView.resetForm();} else{$('.toast').toast('show')} return false;"
                            onreset="storeView.resetForm();">
                            <div class="form-group m-3">
                                <label for="inputStoreName">
                                    가게 이름
                                </label>
                                <input type="text" class="form-control" id="inputStoreName" placeholder="키워드를 검색해주세요"
                                    readonly>
                            </div>
                            <div class="form-group m-3">
                                <label for="inputStoreAddress">
                                    가게 주소
                                </label>
                                <input type="text" class="form-control" id="inputStoreAddress" placeholder="키워드를 검색해주세요"
                                    readonly>
                            </div>
                            <div class="form-group m-3">
                                <label for="inputStoreRate">
                                    가게 평점
                                </label>
                                <div id="inputStoreStar" class="storeStar">
                                    <!-- star background -->
                                    <div>
                                        <i class="fa"></i>
                                        <i class="fa"></i>
                                        <i class="fa"></i>
                                        <i class="fa"></i>
                                        <i class="fa"></i>
                                    </div>
                                    <!-- star frame -->
                                    <div>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                        <i class="fa fa-star-o"></i>
                                    </div>
                                    <!-- input elements -->
                                    <div>
                                        <!-- inputStoreRate를 클릭하게 되면 감지하여 star를 반응하게 함 -->
                                        <input type="range" class="form-control" id="inputStoreRate" min="0" max="5"
                                            step="0.5" value="0" onchange="storeView.drawStar(this.value);">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group m-3">
                                <label for="inputStoreImage">
                                    가게 이미지
                                </label>
                                <div class="input-group">
                                    <input type="url" class="form-control" id="inputStoreImage"
                                        placeholder="https://imgur.com/….jpg or ….png">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="button"
                                            onclick="window.open('https:\/\/imgur.com/upload')">Upload</button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group m-3">
                                <label for="inputStoreReview">
                                    가게 리뷰
                                </label>
                                <textarea class="form-control" id="inputStoreReview" rows="5"
                                    placeholder="가게 리뷰를 입력해주세요 (50자 이상 200자 이하)" minlength="50" maxlength="200"
                                    required></textarea>
                            </div>
                            <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2500">
                                <div class="d-flex justify-content-end toast-header">
                                    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast"
                                        aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="p-4 h5 toast-body">
                                    상단의 <b>가게 검색</b> 후 리뷰하고 싶은 가게를 <b>선택</b>해주세요!
                                </div>
                            </div>
                    </div>
                    <div class="d-flex justify-content-end modal-footer">
                        <button type="reset" class="btn btn-outline-secondary mx-1">초기화</button>
                        <button type="submit" class="btn btn-outline-primary mx-1">제출</button>
                    </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- 가게 삭제 모달 -->
        <div class="modal fade" id="removeStoreModal" tabindex="-1" role="dialog"
            aria-labelledby="removeStoreModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addStoreModalLabel">가게 삭제</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <!-- 넘어가지 않게 하기 위해 return false 추가 -->
                    <form id="removeStoreForm" onsubmit="storeData.removeStore(); return false;">
                        <div class="modal-body">
                            <div class="form-group m-3">
                                <label for="inputStoreName">
                                    가게 목록
                                </label>
                                <select id="storeNameList"></select>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end modal-footer">
                            <button type="submit" class="btn btn-outline-primary mx-1">삭제</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- 가게 상세 모달 -->
        <div class="modal fade" id="expandStoreModal" tabindex="-1" role="dialog"
            aria-labelledby="expandStoreModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div>
                            <h5 class="modal-title" id="expandStoreModalLabel">가게 상세 정보</h5>
                        </div>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body container-fluid">
                        <div class="display-4 modal-title h3 font-weight-bold" id="expandStoreName">가게 이름</div>
                        <div id="expandStoreAdress" class="lead">가게 주소
                        </div>
                        <small id="expandStoreCategory" class="font-italic">카테고리</small>
                        <div class="row">
                            <div class="col-lg-6 p-3 d-flex flex-column">
                                <div class="h4">이미지</div>
                                <div class="d-flex align-items-center flex-fill">
                                    <img  id="expandStoreImg" class="img-fluid border rounded" src="img/meal.png">
                                </div>
                            </div>
                            <div class="col-lg-6 p-3">
                                <div class="h4">지도</div>
                                <div style="width: 360px; height: 360px" id="expandStoreMap" class="mx-auto border rounded">API</div>
                            </div>
                            <div class="col-2 h4 p-3">별점</div>
                            <div class="col m-3 storeStar" id="expandStoreStar">별별별별별</div>
                            <div class="w-100"></div>
                            <div class="col p-3">
                                <div class="h4">리뷰</div>
                                <div id="expandStoreReview" class="p-3"></div>
                            </div>
                            <div class="w-100"></div>
                            <div class="col d-flex justify-content-start">
                                <button id="watchLarge" class="mr-1 btn btn-outline-primary">큰 지도 보기</button>
                                <button id="watchDetail" class="mr-1 btn btn-outline-primary">상세 페이지 보기</button>
                                <button id="findWay" class="btn btn-outline-primary">길찾기</button>
                            </div>
                        </div>
                    </div>
                    <div id="expandStoreTimeStamp" class="modal-footer text-right small font-italic">
                        
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container">
        <!-- 가게 정보가 추가 되는 부분 -->
        <div class="row d-flex justify-content-start" id="showStores">
        </div>
    </section>
    <!-- Optional JavaScript -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <!-- 카카오 지도 API -->
    <script type="text/javascript"
    src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ce2858ca466fef497f5d5188da7108eb&libraries=services"></script>
    <!-- 데이터 & 요소 그려주는 것 -->
    <script src="./js/main.js"></script>
</body>

</html>